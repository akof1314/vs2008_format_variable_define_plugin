something not prefect:
must select all format context, if you only select part of a line, the format result only consider what you select.